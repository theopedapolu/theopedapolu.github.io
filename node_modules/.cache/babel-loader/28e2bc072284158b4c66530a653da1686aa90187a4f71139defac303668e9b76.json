{"ast":null,"code":"import React from\"react\";import'./cs180_styles.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Autostitching(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Part A: Image Warping and Mosaicing\"}),/*#__PURE__*/_jsx(\"h2\",{style:{textAlign:\"center\"},children:\"Theophilus Pedapolu\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Background\"}),/*#__PURE__*/_jsx(\"p\",{children:\"In this part of the project, I explore some interesting applications of image homography like rectification and mosaicing. I derived a least squares solution to the homography matrix and shot pictures of various objects and environments at my house and on the UC Berkeley Campus which I compute the homographies on.\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Shooting the Pictures\"}),/*#__PURE__*/_jsx(\"p\",{children:\"I shot the pictures in this project using my iPhone Camera (iPhone 13 Pro Max) which gave me an initial size and resolution of 4032x3024. However, this size was too large so I later downsampled it to a size of 1200x900 to make computations faster. Furthermore, I used focus and exposure locking (AE/AF) to ensure the settings don't change across perspectives\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Recovering Homographies\"}),/*#__PURE__*/_jsx(\"p\",{children:\"We want to recover a 3x3 homography matrix, H, from one set of points to another. Because we have 8 unknowns in H, only 4 pairs of correspondence points are needed to recover it. However, using 4 points makes H unstable and prone to noise so it's better to have more points and find the best solution using least squares. We can write out an overdetermined system of equations between the correspondence points and find a least squares setup to recover H.\"}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\"},children:/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/proof.PNG\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/proof.PNG\",alt:\"cameraman_dx\",width:\"50%\",height:\"50%\"})})}),/*#__PURE__*/_jsx(\"h2\",{children:\"Image Rectification\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Having found a way to recover the homography matrix, we can \\\"rectify\\\" images, i.e. warp them so the plane is frontal-parallel. Because we have only one image, we find an object in that image we know is rectangular and define two sets of points: one being the corners of the rectangular object in the image and the other a manually defined forward-facing rectangle in the image plane. Then, we compute the homography between these set of points and warp the image via this homography to make it frontal-parallel. This has the effect of changing our perspective angle on the image\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/book.jpg\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/book.jpg\",alt:\"cameraman_dx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"C.S. Lewis Book\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/book_down_pts.JPG\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/book_down_pts.JPG\",alt:\"cameraman_dx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"C.S. Lewis Book original points\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/book_front_pts.JPG\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/book_front_pts.JPG\",alt:\"cameraman_dx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"C.S. Lewis Book rectified points\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/book_front.jpg\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/book_front.jpg\",alt:\"cameraman gradient magnitude\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"C.S. Lewis Book Rectified\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/painting.jpg\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/painting.jpg\",alt:\"cameraman_dx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"Painting\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/painting_right_pts.JPG\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/painting_right_pts.JPG\",alt:\"cameraman_dx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"Painting original points\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/painting_front_pts.JPG\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/painting_front_pts.JPG\",alt:\"cameraman_dx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"Painting rectified points\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/painting_front.jpg\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/painting_front.jpg\",alt:\"cameraman gradient magnitude\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"Painting Rectified\"})]})})]}),/*#__PURE__*/_jsx(\"p\",{children:\"It's pretty cool that even though the pictures are taken at an angle, we can recover a full-frontal view of the image. Below are the cropped versions of the rectified book and painting images. Notice that we have a much clearer front-facing view of the book and painting than in the original images\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/book_front_cropped.jpg\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/book_front_cropped.jpg\",alt:\"cameraman_dx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"C.S. Lewis Book Cropped\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/painting_front_cropped.jpg\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/painting_front_cropped.jpg\",alt:\"cameraman_dx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"Painting Cropped\"})]})})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Blending Images into a Mosaic\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Using homography, we can also blend multiple images into a mosaic that covers a wider field of perception. Given a set of images and correspondence points from left to right, my procedure for creating a mosaic was first warping each image except the leftmost one into the leftmost one via a homography. Then, we have a set of warped images of the same size (with the actual image in different locations on the plane) that need to be stitched together. I tried many different blending techniques like laplacian pyramids and gaussian alpha channels but the technique that seemed to work best was using a linear gradient mask in the overlapping region. To stitch two images together, this involved first calculating the overlapping region then creating a linear gradient mask that goes from 1 to 0 in this region column-wise. Then I create a left mask and a right mask, where the left mask contains the area of the left image but replaced with the linear gradient mask in the overlapping region and the right mask contains the area of the right image but replaced with the inverse of the linear gradient mask (goes from 0 to 1 instead) in the overlapping region. Then, I calculated the stitched image as left_mask*left_image + right_mask*right_image. This has the effect of keeping the left and right images in regions where they are exclusive but creaing a smooth transition from the left to the right in the region they overlap. I found that this technique also elimiates edge artifacts which were common in the other techniques I explored.\",\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/DL_left_pts.JPG\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/DL_left_pts.JPG\",alt:\"cameraman_dx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"Room Left Angle Points\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/DL_right_pts.JPG\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/DL_right_pts.JPG\",alt:\"cameraman_dx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"Room Right Angle Points\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/campanile_left_pts.JPG\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/campanile_left_pts.JPG\",alt:\"cameraman_dx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"Camapnile Left Angle Points\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/campanile_middle_pts.JPG\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/campanile_middle_pts.JPG\",alt:\"cameraman_dx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"Camapnile Right Angle Points\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/sproul_left_pts.JPG\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/sproul_left_pts.JPG\",alt:\"cameraman_dx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"Sproul Left Angle Points\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/sproul_right_pts.JPG\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/sproul_right_pts.JPG\",alt:\"cameraman_dx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"Sproul Right Angle Points\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/DL_left.jpg\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/DL_left.jpg\",alt:\"cameraman_dx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"Room left angle\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/DL_right.jpg\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/DL_right.jpg\",alt:\"cameraman_dx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"Room right angle\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/DL_mosaic.jpg\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/DL_mosaic.jpg\",alt:\"cameraman_dx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"Room mosaic\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/campanile_left.jpg\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/campanile_left.jpg\",alt:\"cameraman_dx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"Campanile left angle\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/campanile_middle.jpg\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/campanile_middle.jpg\",alt:\"cameraman_dx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"Campanile right angle\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/campanile_mosaic.jpg\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/campanile_mosaic.jpg\",alt:\"cameraman_dx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"Campanile mosaic\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/sproul_left.jpg\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/sproul_left.jpg\",alt:\"cameraman_dx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"Sproul left angle\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/sproul_right.jpg\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/sproul_right.jpg\",alt:\"cameraman_dx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"Sproul right angle\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/sproul_mosaic.jpg\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/sproul_mosaic.jpg\",alt:\"cameraman_dx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"Sproul mosaic\"})]})})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h1\",{children:\"Part B: Feature Matching for Autostitching\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Background\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"In part B of this project, I create a system for automatically stitching images into mosaics, without requiring human input for point correspondences. We largely follow the algorithm outlined in this paper\",\" \",/*#__PURE__*/_jsx(\"a\",{href:\"https://inst.eecs.berkeley.edu/~cs180/fa23/hw/proj4/Papers/MOPS.pdf\",children:\"Multi-Image Matching using Multi-Scale Oriented Patches by Brown et al.\"}),\" \",\"which involves detecting the harris corners, using adaptive non-maximal suppression to restrict and ensure the points are spatially well-distributed, extracting and matching feature descriptors for each point, and finally using RANSAC to compute a robust homography estimate between the images. At the end, I show some examples of images that were automatically stitched using this method\"]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Detecting Harris Corners\"}),/*#__PURE__*/_jsx(\"p\",{children:\"First, we need to find salient features in each image so we have something good to match. We use the Harris detector to find corners in each image. The detector identifies corners by testing the change in intensity across the different directions from a point. If the point is a corner, it changes significantly in intensity across multiple directions. If it changes significantly in only one direction, the point is on an edge.\"}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\"},children:/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/harris.JPG\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/harris.JPG\",alt:\"cameraman_dx\"})})}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Mathematically, we find the SSD between an image patch around the original point and a patch around the shifted point. We can approximate this SSD using matrix Taylor expansion to get the equation below. Finally, to calculate the response for a point, we use the response equation below. When R is large and postive, both eigenvalues are large, meaning the SSD has large shifts in all directions and the point is a corner. We implement Harris Corner Detection using the provided \",/*#__PURE__*/_jsx(\"code\",{children:\"harris.py\"}),\" code.\",\" \"]}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\"},children:/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/harris_eq.JPG\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/harris_eq.JPG\",alt:\"cameraman_dx\"})})}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\"},children:/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/harris_eq2.JPG\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/harris_eq2.JPG\",alt:\"cameraman_dx\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/campanile_left_harris.JPG\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/campanile_left_harris.JPG\",alt:\"cameraman_dx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"Left Angle Harris Points\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/campanile_middle_harris.JPG\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/campanile_middle_harris.JPG\",alt:\"cameraman_dx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"Right Angle Harris Points\"})]})})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Adaptive Non-Maximal Suppression\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Because the computational cost of matching is high, it is beneficial to restrict the number of interest points used. However, we also want to ensure that the points are spatially well-distributed since the area of overlap between two images may be small. Therefore, we use the adaptive non-maximal suppression algorithm outlined in the paper to select a smaller number of interest points for the image. The algorithm works by calculating a radius, r_i for each interest point by finding the distance to the closest point in a 3x3 window whose harris response is sufficiently higher than the interest point's response. Then, we take the \",/*#__PURE__*/_jsx(\"i\",{children:\"n\"}),\" interest points with the highest radii. This ensures we only reject points with small radii, which are already \\\"covered\\\" by other interest points. For this project, I used\",\" \",/*#__PURE__*/_jsx(\"i\",{children:\"n = 100\"}),\" points\"]}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\"},children:/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/anms_eq.JPG\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/anms_eq.JPG\",alt:\"cameraman_dx\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/campanile_left_anms.JPG\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/campanile_left_anms.JPG\",alt:\"cameraman_dx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"Left Angle ANMS Points\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/campanile_middle_anms.JPG\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/campanile_middle_anms.JPG\",alt:\"cameraman_dx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"Right Angle ANMS Points\"})]})})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Extracting Feature Descriptors\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Now that we have interest points for each image, we can compute feature descriptors for each point to be used in matching later. Again following the paper, we compute a feature descriptor for an interest point by taking a 40x40 image patch around the point and rescaling it to a size of 8x8. We then normalize the entire patch so it has a mean of 0 and standard deviation of 1. This makes the descriptors have consistent computations when we later match them. In the feature descriptor images below, each feature descriptor was re-normalied to be between 0 and 1 for viewing purposes\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/campanile_left_anms.JPG\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/campanile_left_anms.JPG\",alt:\"cameraman_dx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"Left Angle ANMS Points\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/campanile_left_fd.JPG\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/campanile_left_fd.JPG\",alt:\"cameraman_dx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"Left Angle Feature Descriptors\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/campanile_middle_anms.JPG\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/campanile_middle_anms.JPG\",alt:\"cameraman_dx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"Middle Angle ANMS Points\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/campanile_middle_fd.JPG\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/campanile_middle_fd.JPG\",alt:\"cameraman_dx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"Middle Angle Feature Descriptors\"})]})})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Matching Feature Descriptors and Outlier Rejection\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Next, we match the feature descriptors across two images to come up with a robust selection of point pairs. For matching, we use the nearest neighbors method (NN) with Lowe thresholding. For each point \",/*#__PURE__*/_jsx(\"i\",{children:\"p\"}),\" in the first image with feature descriptor\",\" \",/*#__PURE__*/_jsxs(\"i\",{children:[\"f\",/*#__PURE__*/_jsx(\"sub\",{children:\"p\"})]}),\", we calculate the SSD with every feature descriptor in the other image, recording the smallest (\",/*#__PURE__*/_jsx(\"i\",{children:\"p_1_nn\"}),\") and second-smallest (\",/*#__PURE__*/_jsx(\"i\",{children:\"p_2_nn) matches\"}),\". Then, we reject \",/*#__PURE__*/_jsx(\"i\",{children:\"p\"}),\" if\",\" \",/*#__PURE__*/_jsx(\"i\",{children:\"p_1_nn/p_2_nn > \\u03B5\"}),\" for some threshold \",/*#__PURE__*/_jsx(\"i\",{children:\"\\u03B5\"}),\" because this would mean \",/*#__PURE__*/_jsx(\"i\",{children:\"p\"}),\" does not have many strong matches in the other image so it probably doesn't lie in the overlapping area. If \",/*#__PURE__*/_jsx(\"i\",{children:\"p\"}),\" is not rejected, we match it with its nearest neighbor in the other image and remove that neighbor from the other image's set of interest points so that we do not have a double match to the same point. We perform this process for every interest point in the first image. At the end, we are left with a set of point correspondences between the two images\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/campanile_left_matched.JPG\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/campanile_left_matched.JPG\",alt:\"cameraman_dx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"Left Angle Matched Points\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/campanile_middle_matched.JPG\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/campanile_middle_matched.JPG\",alt:\"cameraman_dx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"Right Angle Matched Points\"})]})})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Homography via RANSAC\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"The last part of the process is to compute a robust homography estimate between the two images using the point correspondences we derived. To do this, we use the RANSAC algorithm. We randomly select 4 point pairs between the images and compute an exact homography estimate on these pairs (since the homography matrix has exactly 8 unknowns). Then we count the number of inliers, i.e. the number of point pairs that are described well by this homography matrix. We loop through these steps for some number of iterations (I used \",/*#__PURE__*/_jsx(\"i\",{children:\"1000\"}),\" iterations), recording the largest set of inlier pairs found over all iterations. Finally, we compute a final homography estimate via least squares on this largest inliers set. RANSAC works because with enough iterations, there is a good chance that a well-defining set of 4 pairs is chosen at some point in the loop, especially with a lot of correspondences in the overlapping region. These 4 pairs would define a good homography estimate which is later refined by least squares.\",\" \"]}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\"},children:/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/ransac.JPG\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/ransac.JPG\",alt:\"cameraman_dx\",width:\"50%\",height:\"50%\"})})}),/*#__PURE__*/_jsx(\"h2\",{children:\"Autostitching Mosaics\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"After automatically computing a homography between two images, we can warp them and stitch them together to form a mosaic. We perform this autostitching on the 3 sets of images we used for mosaics in the previous part. We also apply the same gaussian mask blending we used in the previous part to ensure a smooth transition between images and no edge artifacts\",\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/DL_mosaic.jpg\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/DL_mosaic.jpg\",alt:\"cameraman_dx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"Room Mosaic Manual Stitching\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/DL_auto_mosaic.jpg\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/DL_auto_mosaic.jpg\",alt:\"cameraman_dx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"Room Mosaic Autostitching\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/campanile_mosaic.jpg\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/campanile_mosaic.jpg\",alt:\"cameraman_dx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"Campanile Mosaic Manual Stitching\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/campanile_auto_mosaic.jpg\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/campanile_auto_mosaic.jpg\",alt:\"cameraman_dx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"Campanile Mosaic Autostitching\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/sproul_mosaic.jpg\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/sproul_mosaic.jpg\",alt:\"cameraman_dx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"Sproul Mosaic Manual Stitching\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"responsive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:\"images/autostitching/sproul_auto_mosaic.jpg\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/autostitching/sproul_auto_mosaic.jpg\",alt:\"cameraman_dx\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"desc\",children:\"Sproul Mosaic Autostitching\"})]})})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Conclusion\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Overall, this was an interesting project and I enjoyed working through it, though the image stitching portion of image mosaicing was quite cumbersome . A cool thing I learned is that homographies cannot \\\"create\\\" information. A lot of times, I expected the homography to make it look like I actually changed perspective but this would require additional information that isn't in the image. The homography simply lets us warp the image to make it look as close to shifting perspective as possible without adding information.\",\" \"]})]});}export default Autostitching;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Autostitching","children","style","textAlign","target","href","src","alt","width","height","className"],"sources":["/Users/theopedapolu/Desktop/theopedapolu.github.io/src/components/Autostitching.js"],"sourcesContent":["import React from \"react\";\nimport './cs180_styles.css';\n\nfunction Autostitching() {\n    return (\n        <>\n        <h1>Part A: Image Warping and Mosaicing</h1>\n        <h2 style={{ textAlign: \"center\" }}>Theophilus Pedapolu</h2>\n        <h2>Background</h2>\n        <p>\n          In this part of the project, I explore some interesting applications of\n          image homography like rectification and mosaicing. I derived a least squares\n          solution to the homography matrix and shot pictures of various objects and\n          environments at my house and on the UC Berkeley Campus which I compute the\n          homographies on.\n        </p>\n        <h2>Shooting the Pictures</h2>\n        <p>\n          I shot the pictures in this project using my iPhone Camera (iPhone 13 Pro\n          Max) which gave me an initial size and resolution of 4032x3024. However,\n          this size was too large so I later downsampled it to a size of 1200x900 to\n          make computations faster. Furthermore, I used focus and exposure locking\n          (AE/AF) to ensure the settings don't change across perspectives\n        </p>\n        <h2>Recovering Homographies</h2>\n        <p>\n          We want to recover a 3x3 homography matrix, H, from one set of points to\n          another. Because we have 8 unknowns in H, only 4 pairs of correspondence\n          points are needed to recover it. However, using 4 points makes H unstable\n          and prone to noise so it's better to have more points and find the best\n          solution using least squares. We can write out an overdetermined system of\n          equations between the correspondence points and find a least squares setup\n          to recover H.\n        </p>\n        <div style={{ textAlign: \"center\" }}>\n          <a target=\"_blank\" href=\"images/autostitching/proof.PNG\">\n            <img src=\"images/autostitching/proof.PNG\" alt=\"cameraman_dx\" width=\"50%\" height=\"50%\" />\n          </a>\n        </div>\n        <h2>Image Rectification</h2>\n        <p>\n          Having found a way to recover the homography matrix, we can \"rectify\"\n          images, i.e. warp them so the plane is frontal-parallel. Because we have\n          only one image, we find an object in that image we know is rectangular and\n          define two sets of points: one being the corners of the rectangular object\n          in the image and the other a manually defined forward-facing rectangle in\n          the image plane. Then, we compute the homography between these set of points\n          and warp the image via this homography to make it frontal-parallel. This has\n          the effect of changing our perspective angle on the image\n        </p>\n        <div className=\"container\">\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/book.jpg\">\n                <img src=\"images/autostitching/book.jpg\" alt=\"cameraman_dx\" />\n              </a>\n              <div className=\"desc\">C.S. Lewis Book</div>\n            </div>\n          </div>\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/book_down_pts.JPG\">\n                <img src=\"images/autostitching/book_down_pts.JPG\" alt=\"cameraman_dx\" />\n              </a>\n              <div className=\"desc\">C.S. Lewis Book original points</div>\n            </div>\n          </div>\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/book_front_pts.JPG\">\n                <img src=\"images/autostitching/book_front_pts.JPG\" alt=\"cameraman_dx\" />\n              </a>\n              <div className=\"desc\">C.S. Lewis Book rectified points</div>\n            </div>\n          </div>\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/book_front.jpg\">\n                <img src=\"images/autostitching/book_front.jpg\" alt=\"cameraman gradient magnitude\" />\n              </a>\n              <div className=\"desc\">C.S. Lewis Book Rectified</div>\n            </div>\n          </div>\n        </div>\n        <div className=\"container\">\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/painting.jpg\">\n                <img src=\"images/autostitching/painting.jpg\" alt=\"cameraman_dx\" />\n              </a>\n              <div className=\"desc\">Painting</div>\n            </div>\n          </div>\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/painting_right_pts.JPG\">\n                <img src=\"images/autostitching/painting_right_pts.JPG\" alt=\"cameraman_dx\" />\n              </a>\n              <div className=\"desc\">Painting original points</div>\n            </div>\n          </div>\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/painting_front_pts.JPG\">\n                <img src=\"images/autostitching/painting_front_pts.JPG\" alt=\"cameraman_dx\" />\n              </a>\n              <div className=\"desc\">Painting rectified points</div>\n            </div>\n          </div>\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/painting_front.jpg\">\n                <img\n                  src=\"images/autostitching/painting_front.jpg\"\n                  alt=\"cameraman gradient magnitude\"\n                />\n              </a>\n              <div className=\"desc\">Painting Rectified</div>\n            </div>\n          </div>\n        </div>\n        <p>\n          It's pretty cool that even though the pictures are taken at an angle, we can\n          recover a full-frontal view of the image. Below are the cropped versions of\n          the rectified book and painting images. Notice that we have a much clearer\n          front-facing view of the book and painting than in the original images\n        </p>\n        <div className=\"container\">\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/book_front_cropped.jpg\">\n                <img src=\"images/autostitching/book_front_cropped.jpg\" alt=\"cameraman_dx\" />\n              </a>\n              <div className=\"desc\">C.S. Lewis Book Cropped</div>\n            </div>\n          </div>\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/painting_front_cropped.jpg\">\n                <img src=\"images/autostitching/painting_front_cropped.jpg\" alt=\"cameraman_dx\" />\n              </a>\n              <div className=\"desc\">Painting Cropped</div>\n            </div>\n          </div>\n        </div>\n        <h2>Blending Images into a Mosaic</h2>\n        <p>\n          Using homography, we can also blend multiple images into a mosaic that\n          covers a wider field of perception. Given a set of images and correspondence\n          points from left to right, my procedure for creating a mosaic was first\n          warping each image except the leftmost one into the leftmost one via a\n          homography. Then, we have a set of warped images of the same size (with the\n          actual image in different locations on the plane) that need to be stitched\n          together. I tried many different blending techniques like laplacian pyramids\n          and gaussian alpha channels but the technique that seemed to work best was\n          using a linear gradient mask in the overlapping region. To stitch two images\n          together, this involved first calculating the overlapping region then\n          creating a linear gradient mask that goes from 1 to 0 in this region\n          column-wise. Then I create a left mask and a right mask, where the left mask\n          contains the area of the left image but replaced with the linear gradient\n          mask in the overlapping region and the right mask contains the area of the\n          right image but replaced with the inverse of the linear gradient mask (goes\n          from 0 to 1 instead) in the overlapping region. Then, I calculated the\n          stitched image as left_mask*left_image + right_mask*right_image. This has\n          the effect of keeping the left and right images in regions where they are\n          exclusive but creaing a smooth transition from the left to the right in the\n          region they overlap. I found that this technique also elimiates edge\n          artifacts which were common in the other techniques I explored.{\" \"}\n        </p>\n        <div className=\"container\">\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/DL_left_pts.JPG\">\n                <img src=\"images/autostitching/DL_left_pts.JPG\" alt=\"cameraman_dx\" />\n              </a>\n              <div className=\"desc\">Room Left Angle Points</div>\n            </div>\n          </div>\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/DL_right_pts.JPG\">\n                <img src=\"images/autostitching/DL_right_pts.JPG\" alt=\"cameraman_dx\" />\n              </a>\n              <div className=\"desc\">Room Right Angle Points</div>\n            </div>\n          </div>\n        </div>\n        <div className=\"container\">\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/campanile_left_pts.JPG\">\n                <img src=\"images/autostitching/campanile_left_pts.JPG\" alt=\"cameraman_dx\" />\n              </a>\n              <div className=\"desc\">Camapnile Left Angle Points</div>\n            </div>\n          </div>\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/campanile_middle_pts.JPG\">\n                <img src=\"images/autostitching/campanile_middle_pts.JPG\" alt=\"cameraman_dx\" />\n              </a>\n              <div className=\"desc\">Camapnile Right Angle Points</div>\n            </div>\n          </div>\n        </div>\n        <div className=\"container\">\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/sproul_left_pts.JPG\">\n                <img src=\"images/autostitching/sproul_left_pts.JPG\" alt=\"cameraman_dx\" />\n              </a>\n              <div className=\"desc\">Sproul Left Angle Points</div>\n            </div>\n          </div>\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/sproul_right_pts.JPG\">\n                <img src=\"images/autostitching/sproul_right_pts.JPG\" alt=\"cameraman_dx\" />\n              </a>\n              <div className=\"desc\">Sproul Right Angle Points</div>\n            </div>\n          </div>\n        </div>\n        <div className=\"container\">\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/DL_left.jpg\">\n                <img src=\"images/autostitching/DL_left.jpg\" alt=\"cameraman_dx\" />\n              </a>\n              <div className=\"desc\">Room left angle</div>\n            </div>\n          </div>\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/DL_right.jpg\">\n                <img src=\"images/autostitching/DL_right.jpg\" alt=\"cameraman_dx\" />\n              </a>\n              <div className=\"desc\">Room right angle</div>\n            </div>\n          </div>\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/DL_mosaic.jpg\">\n                <img src=\"images/autostitching/DL_mosaic.jpg\" alt=\"cameraman_dx\" />\n              </a>\n              <div className=\"desc\">Room mosaic</div>\n            </div>\n          </div>\n        </div>\n        <div className=\"container\">\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/campanile_left.jpg\">\n                <img src=\"images/autostitching/campanile_left.jpg\" alt=\"cameraman_dx\" />\n              </a>\n              <div className=\"desc\">Campanile left angle</div>\n            </div>\n          </div>\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/campanile_middle.jpg\">\n                <img src=\"images/autostitching/campanile_middle.jpg\" alt=\"cameraman_dx\" />\n              </a>\n              <div className=\"desc\">Campanile right angle</div>\n            </div>\n          </div>\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/campanile_mosaic.jpg\">\n                <img src=\"images/autostitching/campanile_mosaic.jpg\" alt=\"cameraman_dx\" />\n              </a>\n              <div className=\"desc\">Campanile mosaic</div>\n            </div>\n          </div>\n        </div>\n        <div className=\"container\">\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/sproul_left.jpg\">\n                <img src=\"images/autostitching/sproul_left.jpg\" alt=\"cameraman_dx\" />\n              </a>\n              <div className=\"desc\">Sproul left angle</div>\n            </div>\n          </div>\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/sproul_right.jpg\">\n                <img src=\"images/autostitching/sproul_right.jpg\" alt=\"cameraman_dx\" />\n              </a>\n              <div className=\"desc\">Sproul right angle</div>\n            </div>\n          </div>\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/sproul_mosaic.jpg\">\n                <img src=\"images/autostitching/sproul_mosaic.jpg\" alt=\"cameraman_dx\" />\n              </a>\n              <div className=\"desc\">Sproul mosaic</div>\n            </div>\n          </div>\n        </div>\n        <hr />\n        <h1>Part B: Feature Matching for Autostitching</h1>\n        <h2>Background</h2>\n        <p>\n          In part B of this project, I create a system for automatically stitching\n          images into mosaics, without requiring human input for point\n          correspondences. We largely follow the algorithm outlined in this paper{\" \"}\n          <a href=\"https://inst.eecs.berkeley.edu/~cs180/fa23/hw/proj4/Papers/MOPS.pdf\">\n            Multi-Image Matching using Multi-Scale Oriented Patches by Brown et al.\n          </a>{\" \"}\n          which involves detecting the harris corners, using adaptive non-maximal\n          suppression to restrict and ensure the points are spatially\n          well-distributed, extracting and matching feature descriptors for each\n          point, and finally using RANSAC to compute a robust homography estimate\n          between the images. At the end, I show some examples of images that were\n          automatically stitched using this method\n        </p>\n        <h2>Detecting Harris Corners</h2>\n        <p>\n          First, we need to find salient features in each image so we have something\n          good to match. We use the Harris detector to find corners in each image. The\n          detector identifies corners by testing the change in intensity across the\n          different directions from a point. If the point is a corner, it changes\n          significantly in intensity across multiple directions. If it changes\n          significantly in only one direction, the point is on an edge.\n        </p>\n        <div style={{ textAlign: \"center\" }}>\n          <a target=\"_blank\" href=\"images/autostitching/harris.JPG\">\n            <img src=\"images/autostitching/harris.JPG\" alt=\"cameraman_dx\" />\n          </a>\n        </div>\n        <p>\n          Mathematically, we find the SSD between an image patch around the original\n          point and a patch around the shifted point. We can approximate this SSD\n          using matrix Taylor expansion to get the equation below. Finally, to\n          calculate the response for a point, we use the response equation below. When\n          R is large and postive, both eigenvalues are large, meaning the SSD has\n          large shifts in all directions and the point is a corner. We implement\n          Harris Corner Detection using the provided <code>harris.py</code> code.{\" \"}\n        </p>\n        <div style={{ textAlign: \"center\" }}>\n          <a target=\"_blank\" href=\"images/autostitching/harris_eq.JPG\">\n            <img src=\"images/autostitching/harris_eq.JPG\" alt=\"cameraman_dx\" />\n          </a>\n        </div>\n        <div style={{ textAlign: \"center\" }}>\n          <a target=\"_blank\" href=\"images/autostitching/harris_eq2.JPG\">\n            <img src=\"images/autostitching/harris_eq2.JPG\" alt=\"cameraman_dx\" />\n          </a>\n        </div>\n        <div className=\"container\">\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/campanile_left_harris.JPG\">\n                <img src=\"images/autostitching/campanile_left_harris.JPG\" alt=\"cameraman_dx\" />\n              </a>\n              <div className=\"desc\">Left Angle Harris Points</div>\n            </div>\n          </div>\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/campanile_middle_harris.JPG\">\n                <img src=\"images/autostitching/campanile_middle_harris.JPG\" alt=\"cameraman_dx\" />\n              </a>\n              <div className=\"desc\">Right Angle Harris Points</div>\n            </div>\n          </div>\n        </div>\n        <h2>Adaptive Non-Maximal Suppression</h2>\n        <p>\n          Because the computational cost of matching is high, it is beneficial to\n          restrict the number of interest points used. However, we also want to ensure\n          that the points are spatially well-distributed since the area of overlap\n          between two images may be small. Therefore, we use the adaptive non-maximal\n          suppression algorithm outlined in the paper to select a smaller number of\n          interest points for the image. The algorithm works by calculating a radius,\n          r_i for each interest point by finding the distance to the closest point in\n          a 3x3 window whose harris response is sufficiently higher than the interest\n          point's response. Then, we take the <i>n</i> interest points with the\n          highest radii. This ensures we only reject points with small radii, which\n          are already \"covered\" by other interest points. For this project, I used{\" \"}\n          <i>n = 100</i> points\n        </p>\n        <div style={{ textAlign: \"center\" }}>\n          <a target=\"_blank\" href=\"images/autostitching/anms_eq.JPG\">\n            <img src=\"images/autostitching/anms_eq.JPG\" alt=\"cameraman_dx\" />\n          </a>\n        </div>\n        <div className=\"container\">\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/campanile_left_anms.JPG\">\n                <img src=\"images/autostitching/campanile_left_anms.JPG\" alt=\"cameraman_dx\" />\n              </a>\n              <div className=\"desc\">Left Angle ANMS Points</div>\n            </div>\n          </div>\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/campanile_middle_anms.JPG\">\n                <img src=\"images/autostitching/campanile_middle_anms.JPG\" alt=\"cameraman_dx\" />\n              </a>\n              <div className=\"desc\">Right Angle ANMS Points</div>\n            </div>\n          </div>\n        </div>\n        <h2>Extracting Feature Descriptors</h2>\n        <p>\n          Now that we have interest points for each image, we can compute feature\n          descriptors for each point to be used in matching later. Again following the\n          paper, we compute a feature descriptor for an interest point by taking a\n          40x40 image patch around the point and rescaling it to a size of 8x8. We\n          then normalize the entire patch so it has a mean of 0 and standard deviation\n          of 1. This makes the descriptors have consistent computations when we later\n          match them. In the feature descriptor images below, each feature descriptor\n          was re-normalied to be between 0 and 1 for viewing purposes\n        </p>\n        <div className=\"container\">\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/campanile_left_anms.JPG\">\n                <img src=\"images/autostitching/campanile_left_anms.JPG\" alt=\"cameraman_dx\" />\n              </a>\n              <div className=\"desc\">Left Angle ANMS Points</div>\n            </div>\n          </div>\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/campanile_left_fd.JPG\">\n                <img src=\"images/autostitching/campanile_left_fd.JPG\" alt=\"cameraman_dx\" />\n              </a>\n              <div className=\"desc\">Left Angle Feature Descriptors</div>\n            </div>\n          </div>\n        </div>\n        <div className=\"container\">\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/campanile_middle_anms.JPG\">\n                <img src=\"images/autostitching/campanile_middle_anms.JPG\" alt=\"cameraman_dx\" />\n              </a>\n              <div className=\"desc\">Middle Angle ANMS Points</div>\n            </div>\n          </div>\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/campanile_middle_fd.JPG\">\n                <img src=\"images/autostitching/campanile_middle_fd.JPG\" alt=\"cameraman_dx\" />\n              </a>\n              <div className=\"desc\">Middle Angle Feature Descriptors</div>\n            </div>\n          </div>\n        </div>\n        <h2>Matching Feature Descriptors and Outlier Rejection</h2>\n        <p>\n          Next, we match the feature descriptors across two images to come up with a\n          robust selection of point pairs. For matching, we use the nearest neighbors\n          method (NN) with Lowe thresholding. For each point <i>p</i> in the first\n          image with feature descriptor{\" \"}\n          <i>\n            f<sub>p</sub>\n          </i>\n          , we calculate the SSD with every feature descriptor in the other image,\n          recording the smallest (<i>p_1_nn</i>) and second-smallest (\n          <i>p_2_nn) matches</i>. Then, we reject <i>p</i> if{\" \"}\n          <i>p_1_nn/p_2_nn &gt; </i> for some threshold <i></i> because this would\n          mean <i>p</i> does not have many strong matches in the other image so it\n          probably doesn't lie in the overlapping area. If <i>p</i> is not rejected,\n          we match it with its nearest neighbor in the other image and remove that\n          neighbor from the other image's set of interest points so that we do not\n          have a double match to the same point. We perform this process for every\n          interest point in the first image. At the end, we are left with a set of\n          point correspondences between the two images\n        </p>\n        <div className=\"container\">\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/campanile_left_matched.JPG\">\n                <img src=\"images/autostitching/campanile_left_matched.JPG\" alt=\"cameraman_dx\" />\n              </a>\n              <div className=\"desc\">Left Angle Matched Points</div>\n            </div>\n          </div>\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/campanile_middle_matched.JPG\">\n                <img src=\"images/autostitching/campanile_middle_matched.JPG\" alt=\"cameraman_dx\" />\n              </a>\n              <div className=\"desc\">Right Angle Matched Points</div>\n            </div>\n          </div>\n        </div>\n        <h2>Homography via RANSAC</h2>\n        <p>\n          The last part of the process is to compute a robust homography estimate\n          between the two images using the point correspondences we derived. To do\n          this, we use the RANSAC algorithm. We randomly select 4 point pairs between\n          the images and compute an exact homography estimate on these pairs (since\n          the homography matrix has exactly 8 unknowns). Then we count the number of\n          inliers, i.e. the number of point pairs that are described well by this\n          homography matrix. We loop through these steps for some number of iterations\n          (I used <i>1000</i> iterations), recording the largest set of inlier pairs\n          found over all iterations. Finally, we compute a final homography estimate\n          via least squares on this largest inliers set. RANSAC works because with\n          enough iterations, there is a good chance that a well-defining set of 4\n          pairs is chosen at some point in the loop, especially with a lot of\n          correspondences in the overlapping region. These 4 pairs would define a good\n          homography estimate which is later refined by least squares.{\" \"}\n        </p>\n        <div style={{ textAlign: \"center\" }}>\n          <a target=\"_blank\" href=\"images/autostitching/ransac.JPG\">\n            <img\n              src=\"images/autostitching/ransac.JPG\"\n              alt=\"cameraman_dx\"\n              width=\"50%\"\n              height=\"50%\"\n            />\n          </a>\n        </div>\n        <h2>Autostitching Mosaics</h2>\n        <p>\n          After automatically computing a homography between two images, we can warp\n          them and stitch them together to form a mosaic. We perform this\n          autostitching on the 3 sets of images we used for mosaics in the previous\n          part. We also apply the same gaussian mask blending we used in the previous\n          part to ensure a smooth transition between images and no edge artifacts{\" \"}\n        </p>\n        <div className=\"container\">\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/DL_mosaic.jpg\">\n                <img src=\"images/autostitching/DL_mosaic.jpg\" alt=\"cameraman_dx\" />\n              </a>\n              <div className=\"desc\">Room Mosaic Manual Stitching</div>\n            </div>\n          </div>\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/DL_auto_mosaic.jpg\">\n                <img src=\"images/autostitching/DL_auto_mosaic.jpg\" alt=\"cameraman_dx\" />\n              </a>\n              <div className=\"desc\">Room Mosaic Autostitching</div>\n            </div>\n          </div>\n        </div>\n        <div className=\"container\">\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/campanile_mosaic.jpg\">\n                <img src=\"images/autostitching/campanile_mosaic.jpg\" alt=\"cameraman_dx\" />\n              </a>\n              <div className=\"desc\">Campanile Mosaic Manual Stitching</div>\n            </div>\n          </div>\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/campanile_auto_mosaic.jpg\">\n                <img src=\"images/autostitching/campanile_auto_mosaic.jpg\" alt=\"cameraman_dx\" />\n              </a>\n              <div className=\"desc\">Campanile Mosaic Autostitching</div>\n            </div>\n          </div>\n        </div>\n        <div className=\"container\">\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/sproul_mosaic.jpg\">\n                <img src=\"images/autostitching/sproul_mosaic.jpg\" alt=\"cameraman_dx\" />\n              </a>\n              <div className=\"desc\">Sproul Mosaic Manual Stitching</div>\n            </div>\n          </div>\n          <div className=\"responsive\">\n            <div className=\"gallery\">\n              <a target=\"_blank\" href=\"images/autostitching/sproul_auto_mosaic.jpg\">\n                <img src=\"images/autostitching/sproul_auto_mosaic.jpg\" alt=\"cameraman_dx\" />\n              </a>\n              <div className=\"desc\">Sproul Mosaic Autostitching</div>\n            </div>\n          </div>\n        </div>\n        <h2>Conclusion</h2>\n        <p>\n          Overall, this was an interesting project and I enjoyed working through it,\n          though the image stitching portion of image mosaicing was quite cumbersome\n          . A cool thing I learned is that homographies cannot \"create\" information.\n          A lot of times, I expected the homography to make it look like I actually\n          changed perspective but this would require additional information that isn't\n          in the image. The homography simply lets us warp the image to make it look\n          as close to shifting perspective as possible without adding information.{\" \"}\n        </p>\n      </>\n      \n    )\n}\n\nexport default Autostitching;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}